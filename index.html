<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>What the Package Does (Title Case) • trisk.analysis</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (Title Case)">
<meta name="description" content="More about what it does (maybe more than one line) Use four spaces when indenting paragraphs within the Description.">
<meta property="og:description" content="More about what it does (maybe more than one line) Use four spaces when indenting paragraphs within the Description.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">trisk.analysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/main-functions-demo.html">main-functions-demo</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><!-- badges: start --> <a href="https://github.com/Theia-Finance-Labs/trisk.utils/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Theia-Finance-Labs/trisk.utils/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <!-- badges: end --></p>
<div class="section level1">
<div class="page-header"><h1 id="trisk-analysis">TRISK Analysis<a class="anchor" aria-label="anchor" href="#trisk-analysis"></a>
</h1></div>
<p>This repository contains a workflow for running the TRISK model to assess financial impacts of a transition towards a low-carbon economy based on different climate scenarios.</p>
<ul>
<li>
<a href="#trisk-analysis">TRISK Analysis</a>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#installation">Installation</a></li>
<li>
<a href="#main-functions">Main Functions</a>
<ul>
<li>
<a href="#download_trisk_inputs">download_trisk_inputs()</a>
<ul>
<li><a href="#usage-example">Usage Example</a></li>
<li><a href="#parameters">Parameters</a></li>
</ul>
</li>
<li>
<a href="#run_trisk">run_trisk()</a>
<ul>
<li><a href="#usage-example-1">Usage Example</a></li>
<li><a href="#parameters-1">Parameters</a></li>
</ul>
</li>
<li>
<a href="#run_trisk_single_filtered">run_trisk_single_filtered()</a>
<ul>
<li><a href="#usage-example-2">Usage Example</a></li>
<li><a href="#parameters-2">Parameters</a></li>
</ul>
</li>
<li>
<a href="#run_trisk_sa">run_trisk_sa()</a>
<ul>
<li><a href="#usage-example-3">Usage Example</a></li>
<li><a href="#parameters-3">Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The TRISK model helps in understanding the financial impacts of different climate scenarios on specific industries or sectors. This workflow guides you through setting up and running the TRISK model, including downloading necessary data, running basic and advanced scenarios, and performing sensitivity analysis.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To get started, install the required packages from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Theia-Finance-Labs/trisk.analysis"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="main-functions">Main Functions<a class="anchor" aria-label="anchor" href="#main-functions"></a>
</h2>
<div class="section level3">
<h3 id="download_trisk_inputs">download_trisk_inputs()<a class="anchor" aria-label="anchor" href="#download_trisk_inputs"></a>
</h3>
<p>Downloads the necessary input data required for running the TRISK model.</p>
<p>The function downloads several CSV files (<code>assets.csv</code>, <code>financial_features.csv</code>, <code>scenarios.csv</code>, <code>ngfs_carbon_price.csv</code>) and saves them to the specified local folder.</p>
<div class="section level4">
<h4 id="usage-example">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">endpoint_url</span> <span class="op">&lt;-</span> <span class="st">"https://scenarios-repository.fra1.cdn.digitaloceanspaces.com"</span></span>
<span><span class="va">s3_path</span> <span class="op">&lt;-</span> <span class="st">"mock_trisk_inputs"</span></span>
<span><span class="va">local_trisk_inputs_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"data"</span>, <span class="st">"trisk_inputs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/download_trisk_inputs.html">download_trisk_inputs</a></span><span class="op">(</span><span class="va">endpoint_url</span>, <span class="va">s3_path</span>, <span class="va">local_trisk_inputs_folder</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h4>
<ul>
<li>
<code>endpoint_url</code>: The base URL of the endpoint from which the data files will be downloaded.</li>
<li>
<code>s3_path</code>: The specific path within the endpoint where the data files are located.</li>
<li>
<code>local_trisk_inputs_folder</code>: The local folder path where the downloaded files will be saved.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="run_trisk">run_trisk()<a class="anchor" aria-label="anchor" href="#run_trisk"></a>
</h3>
<p>Executes a basic TRISK model run for a specific baseline scenario and target scenario. - The time taken for the TRISK run is printed. - The latest results for various metrics (Net Present Value (<code>npv</code>), Probability of Default (<code>pd</code>), company trajectories, and parameters) are printed using the <code><a href="reference/get_latest_trisk_result.html">get_latest_trisk_result()</a></code> function.</p>
<div class="section level4">
<h4 id="usage-example-1">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example-1"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trisk_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"data"</span>, <span class="st">"trisk_outputs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">run_trisk</span><span class="op">(</span></span>
<span>  input_path <span class="op">=</span> <span class="va">local_trisk_inputs_folder</span>,</span>
<span>  output_path <span class="op">=</span> <span class="va">trisk_output_path</span>,</span>
<span>  baseline_scenario <span class="op">=</span> <span class="st">"Steel_baseline"</span>,</span>
<span>  target_scenario <span class="op">=</span> <span class="st">"Steel_NZ"</span>,</span>
<span>  scenario_geography <span class="op">=</span> <span class="st">"Global"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">time_taken</span> <span class="op">&lt;-</span> <span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">time_taken</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/get_latest_trisk_result.html">get_latest_trisk_result</a></span><span class="op">(</span>trisk_output_path <span class="op">=</span> <span class="va">trisk_output_path</span>, result_type <span class="op">=</span> <span class="st">"npv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/get_latest_trisk_result.html">get_latest_trisk_result</a></span><span class="op">(</span>trisk_output_path <span class="op">=</span> <span class="va">trisk_output_path</span>, result_type <span class="op">=</span> <span class="st">"pd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/get_latest_trisk_result.html">get_latest_trisk_result</a></span><span class="op">(</span>trisk_output_path <span class="op">=</span> <span class="va">trisk_output_path</span>, result_type <span class="op">=</span> <span class="st">"trajectories"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/get_latest_trisk_result.html">get_latest_trisk_result</a></span><span class="op">(</span>trisk_output_path <span class="op">=</span> <span class="va">trisk_output_path</span>, result_type <span class="op">=</span> <span class="st">"params"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="parameters-1">Parameters<a class="anchor" aria-label="anchor" href="#parameters-1"></a>
</h4>
<ul>
<li>
<code>input_path</code>: The path to the folder containing the input data files required for the TRISK model.</li>
<li>
<code>output_path</code>: The path where the model’s output files will be saved.</li>
<li>
<code>baseline_scenario</code>: The baseline scenario to be used in the model run (e.g., “Steel_baseline”).</li>
<li>
<code>target_scenario</code>: The target scenario to be used in the model run (e.g., “Steel_NZ”).</li>
<li>
<code>scenario_geography</code>: The geographic scope of the scenario (e.g., “Global”).</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="run_trisk_single_filtered">run_trisk_single_filtered()<a class="anchor" aria-label="anchor" href="#run_trisk_single_filtered"></a>
</h3>
<p>Runs the TRISK model on a filtered dataset.</p>
<p>Returns a list of tibbles containing the results of the TRISK model run: - <code>npv</code>: Net Present Value results. - <code>pd</code>: Probability of Default results. - <code>trajectories</code>: Company trajectories. - <code>params</code>: Model parameters used in the run.</p>
<div class="section level4">
<h4 id="usage-example-2">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example-2"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">single_run_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    scenario_geography <span class="op">=</span> <span class="st">"Global"</span>,</span>
<span>    baseline_scenario <span class="op">=</span> <span class="st">"Steel_baseline"</span>,</span>
<span>    target_scenario <span class="op">=</span> <span class="st">"Steel_NZ"</span>,</span>
<span>    shock_year <span class="op">=</span> <span class="fl">2030</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">single_filtered_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run_trisk_single_filtered.html">run_trisk_single_filtered</a></span><span class="op">(</span></span>
<span>    input_path <span class="op">=</span> <span class="va">local_trisk_inputs_folder</span>, </span>
<span>    run_params <span class="op">=</span> <span class="va">single_run_params</span>,</span>
<span>    country_iso2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"AR"</span><span class="op">)</span>, </span>
<span>    sector <span class="op">=</span> <span class="st">"Steel"</span>, </span>
<span>    technology <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EAF-DRI"</span>, <span class="st">"BOF-BF"</span><span class="op">)</span>, </span>
<span>    company_name <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_filtered_results</span><span class="op">[</span><span class="st">"npv"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_filtered_results</span><span class="op">[</span><span class="st">"pd"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_filtered_results</span><span class="op">[</span><span class="st">"trajectories"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_filtered_results</span><span class="op">[</span><span class="st">"params"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="parameters-2">Parameters<a class="anchor" aria-label="anchor" href="#parameters-2"></a>
</h4>
<ul>
<li>
<code>input_path</code>: The path to the folder containing the input data files required for the TRISK model.</li>
<li>
<code>run_params</code>: A list of parameters required for running the TRISK model, including <code>scenario_geography</code>, <code>baseline_scenario</code>, <code>target_scenario</code>, and <code>shock_year</code>.</li>
<li>
<code>country_iso2</code>: (Optional) A character vector of ISO2 country codes to filter the assets.</li>
<li>
<code>sector</code>: (Optional) A character vector of sectors to filter the assets.</li>
<li>
<code>technology</code>: (Optional) A character vector of technologies to filter the assets.</li>
<li>
<code>company_name</code>: (Optional) A character vector of company names to filter the assets.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="run_trisk_sa">run_trisk_sa()<a class="anchor" aria-label="anchor" href="#run_trisk_sa"></a>
</h3>
<p>Performs sensitivity analysis with multiple TRISK model runs.</p>
<p>Returns a list of tibbles containing the combined results for all runs: - <code>npv</code>: Net Present Value results. - <code>pd</code>: Probability of Default results. - <code>trajectories</code>: Company trajectories. - <code>params</code>: Model parameters used in the runs.</p>
<div class="section level4">
<h4 id="usage-example-3">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example-3"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        scenario_geography <span class="op">=</span> <span class="st">"Global"</span>,</span>
<span>        baseline_scenario <span class="op">=</span> <span class="st">"Steel_baseline"</span>,</span>
<span>        target_scenario <span class="op">=</span> <span class="st">"Steel_NZ"</span>,</span>
<span>        shock_year <span class="op">=</span> <span class="fl">2030</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        scenario_geography <span class="op">=</span> <span class="st">"Global"</span>,</span>
<span>        baseline_scenario <span class="op">=</span> <span class="st">"Steel_baseline"</span>,</span>
<span>        target_scenario <span class="op">=</span> <span class="st">"Steel_NZ"</span>,</span>
<span>        shock_year <span class="op">=</span> <span class="fl">2025</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sensitivity_analysis_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run_trisk_sa.html">run_trisk_sa</a></span><span class="op">(</span></span>
<span>    input_path <span class="op">=</span> <span class="va">local_trisk_inputs_folder</span>, </span>
<span>    run_params <span class="op">=</span> <span class="va">run_params</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sensitivity_analysis_results</span><span class="op">[</span><span class="st">"npv"</span><span class="op">]</span></span>
<span><span class="va">sensitivity_analysis_results</span><span class="op">[</span><span class="st">"pd"</span><span class="op">]</span></span>
<span><span class="va">sensitivity_analysis_results</span><span class="op">[</span><span class="st">"trajectories"</span><span class="op">]</span></span>
<span><span class="va">sensitivity_analysis_results</span><span class="op">[</span><span class="st">"params"</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="parameters-3">Parameters<a class="anchor" aria-label="anchor" href="#parameters-3"></a>
</h4>
<ul>
<li>
<code>input_path</code>: The path to the folder containing the input data files required for the TRISK model.</li>
<li>
<code>run_params</code>: A list of parameter sets where each set contains the required parameters for a single TRISK model run (e.g., <code>scenario_geography</code>, <code>baseline_scenario</code>, <code>target_scenario</code>, <code>shock_year</code>).</li>
<li>
<code>...</code>: Additional arguments for filtering assets, such as <code>country_iso2</code>, <code>sector</code>, <code>technology</code>, and <code>company_name</code>.</li>
</ul>
</div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>LGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing trisk.analysis</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>The package maintainer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
